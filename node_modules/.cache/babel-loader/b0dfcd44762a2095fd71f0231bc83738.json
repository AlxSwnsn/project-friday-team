{"ast":null,"code":"import _objectSpread from\"/Users/elizavetaspivak/Documents/study/React/project-friday-team/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread2\";import{FormControlLabel,TextField}from\"@material-ui/core\";import Checkbox from\"@material-ui/core/Checkbox\";import FormGroup from\"@material-ui/core/FormGroup\";import{useFormik}from\"formik\";import{useDispatch,useSelector}from\"react-redux\";import{NavLink,Redirect}from\"react-router-dom\";import{ErrorSnackbar}from\"../Snackbar/ErrorSnackBar\";import s from\"./Login.module.css\";import{loginTC}from'../state/login-reducer';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";export function Login(){var isLoginIn=useSelector(function(state){return state.login.isLoggedIn;});var dispath=useDispatch();var formik=useFormik({initialValues:{email:\"\",password:\"\",rememberMe:false},validate:function validate(values){var errors={};if(!values.email){errors.email=\"Required\";}else if(!/^[A-Z0-9._%+-]+@[A-Z0-9.-]+\\.[A-Z]{2,4}$/i.test(values.email)){errors.email=\"Invalid email address\";}if(!values.password){errors.password=\"Required\";}else if(values.password.length<7){errors.password=\"Password must be more than 7 symbols\";}return errors;},onSubmit:function onSubmit(values){dispath(loginTC(values));formik.resetForm();}});if(isLoginIn){return/*#__PURE__*/_jsx(Redirect,{to:\"/profile\"});}return/*#__PURE__*/_jsxs(\"div\",{className:s.login,children:[/*#__PURE__*/_jsxs(\"div\",{className:s.loginBlock,children:[/*#__PURE__*/_jsx(\"h1\",{children:\"It-incubator\"}),/*#__PURE__*/_jsx(\"h2\",{children:\"Sign In\"}),/*#__PURE__*/_jsx(\"div\",{className:s.form,children:/*#__PURE__*/_jsxs(\"form\",{onSubmit:formik.handleSubmit,children:[/*#__PURE__*/_jsxs(FormGroup,{children:[/*#__PURE__*/_jsx(TextField,_objectSpread({type:\"email\",placeholder:\"Email\"},formik.getFieldProps(\"email\"))),formik.touched.email&&formik.errors.email?/*#__PURE__*/_jsx(\"div\",{style:{color:\"red\"},children:formik.errors.email}):null,/*#__PURE__*/_jsx(TextField,_objectSpread({type:\"password\",placeholder:\"Password\"},formik.getFieldProps(\"password\"))),formik.touched.password&&formik.errors.password?/*#__PURE__*/_jsx(\"div\",{style:{color:\"red\"},children:formik.errors.password}):null,/*#__PURE__*/_jsx(\"div\",{className:s.rememberMe,children:/*#__PURE__*/_jsx(FormControlLabel,{label:\"Remember me\",control:/*#__PURE__*/_jsx(Checkbox,_objectSpread({},formik.getFieldProps(\"rememberMe\")))})})]}),/*#__PURE__*/_jsx(\"div\",{className:s.forgot,children:/*#__PURE__*/_jsx(NavLink,{to:\"/recovery\",children:\"Forgot password?\"})}),/*#__PURE__*/_jsx(\"div\",{className:s.loginButton,children:/*#__PURE__*/_jsx(\"button\",{children:\" Login \"})})]})}),/*#__PURE__*/_jsxs(\"div\",{className:s.singIn,children:[/*#__PURE__*/_jsx(\"p\",{children:\"Don't have an account?\"}),/*#__PURE__*/_jsx(NavLink,{to:\"/register\",children:\"Sign Up\"})]})]}),/*#__PURE__*/_jsx(ErrorSnackbar,{})]});}","map":{"version":3,"sources":["/Users/elizavetaspivak/Documents/study/React/project-friday-team/src/Login/Login.tsx"],"names":["FormControlLabel","TextField","Checkbox","FormGroup","useFormik","useDispatch","useSelector","NavLink","Redirect","ErrorSnackbar","s","loginTC","Login","isLoginIn","state","login","isLoggedIn","dispath","formik","initialValues","email","password","rememberMe","validate","values","errors","test","length","onSubmit","resetForm","loginBlock","form","handleSubmit","getFieldProps","touched","color","forgot","loginButton","singIn"],"mappings":"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","sourcesContent":["import { FormControlLabel, TextField } from \"@material-ui/core\";\nimport Checkbox from \"@material-ui/core/Checkbox\";\nimport FormGroup from \"@material-ui/core/FormGroup\";\nimport { useFormik } from \"formik\";\nimport { useDispatch, useSelector } from \"react-redux\";\nimport { NavLink, Redirect } from \"react-router-dom\";\nimport { ErrorSnackbar } from \"../Snackbar/ErrorSnackBar\";\nimport { AppRootStateType } from \"../state/store\";\nimport s from \"./Login.module.css\";\nimport {loginTC} from '../state/login-reducer';\n\ntype FormikErrorType = {\n  email?: string;\n  password?: string;\n  rememberMe?: boolean;\n};\n\nexport function Login() {\n  const isLoginIn = useSelector<AppRootStateType, boolean>(\n    (state) => state.login.isLoggedIn\n  );\n  const dispath = useDispatch();\n\n  const formik = useFormik({\n    initialValues: {\n      email: \"\",\n      password: \"\",\n      rememberMe: false,\n    },\n    validate: (values) => {\n      const errors: FormikErrorType = {};\n      if (!values.email) {\n        errors.email = \"Required\";\n      } else if (\n        !/^[A-Z0-9._%+-]+@[A-Z0-9.-]+\\.[A-Z]{2,4}$/i.test(values.email)\n      ) {\n        errors.email = \"Invalid email address\";\n      }\n      if (!values.password) {\n        errors.password = \"Required\";\n      } else if (values.password.length < 7) {\n        errors.password = \"Password must be more than 7 symbols\";\n      }\n      return errors;\n    },\n\n    onSubmit: (values) => {\n      dispath(loginTC(values));\n      formik.resetForm();\n    },\n  });\n\n  if (isLoginIn) {\n    return <Redirect to={\"/profile\"} />;\n  }\n\n  return (\n    <div className={s.login}>\n      <div className={s.loginBlock}>\n        <h1>It-incubator</h1>\n        <h2>Sign In</h2>\n        <div className={s.form}>\n          <form onSubmit={formik.handleSubmit}>\n            <FormGroup>\n              <TextField\n                type=\"email\"\n                placeholder={\"Email\"}\n                {...formik.getFieldProps(\"email\")}\n              />\n              {formik.touched.email && formik.errors.email ? (\n                <div style={{ color: \"red\" }}>{formik.errors.email}</div>\n              ) : null}\n\n              <TextField\n                type=\"password\"\n                placeholder={\"Password\"}\n                {...formik.getFieldProps(\"password\")}\n              />\n              {formik.touched.password && formik.errors.password ? (\n                <div style={{ color: \"red\" }}>{formik.errors.password}</div>\n              ) : null}\n              <div className={s.rememberMe}>\n                <FormControlLabel\n                  label={\"Remember me\"}\n                  control={<Checkbox {...formik.getFieldProps(\"rememberMe\")} />}\n                />\n              </div>\n            </FormGroup>\n\n            <div className={s.forgot}>\n              <NavLink to={\"/recovery\"}>Forgot password?</NavLink>\n            </div>\n            <div className={s.loginButton}>\n              <button> Login </button>\n            </div>\n          </form>\n        </div>\n        <div className={s.singIn}>\n          <p>Don't have an account?</p>\n          <NavLink to={\"/register\"}>Sign Up</NavLink>\n        </div>\n      </div>\n      <ErrorSnackbar />\n    </div>\n  );\n}\n"]},"metadata":{},"sourceType":"module"}