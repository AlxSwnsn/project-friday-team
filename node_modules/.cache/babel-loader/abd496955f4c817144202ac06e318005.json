{"ast":null,"code":"import _objectSpread from\"/Users/elizavetaspivak/Documents/study/React/project-friday-team/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread2\";import{AuthAPI}from'../dal/api';var initialState={isRegister:false,status:false,error:null};export var registerReducer=function registerReducer(){var state=arguments.length>0&&arguments[0]!==undefined?arguments[0]:initialState;var action=arguments.length>1?arguments[1]:undefined;var copyState=_objectSpread({},state);switch(action.type){case'APP/SET-ERROR':return _objectSpread(_objectSpread({},state),{},{error:action.error});case'APP/SET-STATUS':return _objectSpread(_objectSpread({},state),{},{status:action.status});case'APP/SET-REGISTER-STATUS':return _objectSpread(_objectSpread({},state),{},{isRegister:action.isRegister});default:return state;}};export var setStatusAC=function setStatusAC(status){return{type:'APP/SET-STATUS',status:status};};export var setErrorAC=function setErrorAC(error){return{type:'APP/SET-ERROR',error:error};};export var setRegisterStatus=function setRegisterStatus(isRegister){return{type:'APP/SET-REGISTER-STATUS',isRegister:isRegister};};export var CreateUserThunk=function CreateUserThunk(email,password){return function(dispatch){dispatch(setStatusAC(true));AuthAPI.createUser(email,password).then(function(res){dispatch(setStatusAC(false));dispatch(setRegisterStatus(true));}).catch(function(error){if(!error.error){dispatch(setErrorAC('Some Error! More details in console.'));}else{dispatch(setErrorAC(error.error));}dispatch(setStatusAC(false));});};};","map":{"version":3,"sources":["/Users/elizavetaspivak/Documents/study/React/project-friday-team/src/state/register-reducer.ts"],"names":["AuthAPI","initialState","isRegister","status","error","registerReducer","state","action","copyState","type","setStatusAC","setErrorAC","setRegisterStatus","CreateUserThunk","email","password","dispatch","createUser","then","res","catch"],"mappings":"sLACA,OAAQA,OAAR,KAAsB,YAAtB,CAwBA,GAAMC,CAAAA,YAAY,CAAG,CACjBC,UAAU,CAAE,KADK,CAEjBC,MAAM,CAAE,KAFS,CAGjBC,KAAK,CAAE,IAHU,CAArB,CAQA,MAAO,IAAMC,CAAAA,eAAe,CAAG,QAAlBA,CAAAA,eAAkB,EAAmF,IAAlFC,CAAAA,KAAkF,2DAAxDL,YAAwD,IAA1CM,CAAAA,MAA0C,2CAC9G,GAAIC,CAAAA,SAAS,kBAAOF,KAAP,CAAb,CACA,OAAQC,MAAM,CAACE,IAAf,EACI,IAAK,eAAL,CACI,sCACOH,KADP,MAEIF,KAAK,CAAEG,MAAM,CAACH,KAFlB,GAIJ,IAAK,gBAAL,CACI,sCACOE,KADP,MAEIH,MAAM,CAAEI,MAAM,CAACJ,MAFnB,GAIJ,IAAK,yBAAL,CACI,sCACOG,KADP,MAEIJ,UAAU,CAAEK,MAAM,CAACL,UAFvB,GAIJ,QACI,MAAOI,CAAAA,KAAP,CAjBR,CAmBH,CArBM,CAuBP,MAAO,IAAMI,CAAAA,WAAW,CAAG,QAAdA,CAAAA,WAAc,CAACP,MAAD,QAAuC,CAACM,IAAI,CAAE,gBAAP,CAAyBN,MAAM,CAANA,MAAzB,CAAvC,EAApB,CACP,MAAO,IAAMQ,CAAAA,UAAU,CAAG,QAAbA,CAAAA,UAAa,CAACP,KAAD,QAA2C,CAACK,IAAI,CAAE,eAAP,CAAwBL,KAAK,CAALA,KAAxB,CAA3C,EAAnB,CACP,MAAO,IAAMQ,CAAAA,iBAAiB,CAAG,QAApBA,CAAAA,iBAAoB,CAACV,UAAD,QAAmD,CAChFO,IAAI,CAAE,yBAD0E,CAEhFP,UAAU,CAAVA,UAFgF,CAAnD,EAA1B,CAKP,MAAO,IAAMW,CAAAA,eAAe,CAAG,QAAlBA,CAAAA,eAAkB,CAACC,KAAD,CAAgBC,QAAhB,CAAqC,CAChE,MAAO,UAACC,QAAD,CAAwB,CAC3BA,QAAQ,CAACN,WAAW,CAAC,IAAD,CAAZ,CAAR,CACAV,OAAO,CAACiB,UAAR,CAAmBH,KAAnB,CAA0BC,QAA1B,EACKG,IADL,CACU,SAACC,GAAD,CAAS,CACXH,QAAQ,CAACN,WAAW,CAAC,KAAD,CAAZ,CAAR,CACAM,QAAQ,CAACJ,iBAAiB,CAAC,IAAD,CAAlB,CAAR,CACH,CAJL,EAKKQ,KALL,CAKW,SAAChB,KAAD,CAAW,CACd,GAAI,CAACA,KAAK,CAACA,KAAX,CAAkB,CACdY,QAAQ,CAACL,UAAU,CAAC,sCAAD,CAAX,CAAR,CACH,CAFD,IAEO,CACHK,QAAQ,CAACL,UAAU,CAACP,KAAK,CAACA,KAAP,CAAX,CAAR,CACH,CACDY,QAAQ,CAACN,WAAW,CAAC,KAAD,CAAZ,CAAR,CACH,CAZL,EAaH,CAfD,CAgBH,CAjBM","sourcesContent":["import {Dispatch} from 'redux'\nimport {AuthAPI} from '../dal/api';\n\n\ntype setErrorACType = {\n    type: 'APP/SET-ERROR'\n    error?: string | null\n}\n\ntype setStatusACType = {\n    type: 'APP/SET-STATUS'\n    status: boolean\n}\n\ntype setRegisterStatusACType = {\n    type: 'APP/SET-REGISTER-STATUS'\n    isRegister: boolean\n}\n\ntype initialStateType = {\n    isRegister: boolean\n    status: boolean\n    error?: string | null\n}\n\nconst initialState = {\n    isRegister: false,\n    status: false,\n    error: null\n}\n\ntype ActionsType = setErrorACType | setStatusACType | setRegisterStatusACType\n\nexport const registerReducer = (state: initialStateType = initialState, action: ActionsType): initialStateType => {\n    let copyState = {...state}\n    switch (action.type) {\n        case 'APP/SET-ERROR':\n            return {\n                ...state,\n                error: action.error\n            }\n        case 'APP/SET-STATUS':\n            return {\n                ...state,\n                status: action.status\n            }\n        case 'APP/SET-REGISTER-STATUS':\n            return {\n                ...state,\n                isRegister: action.isRegister\n            }\n        default:\n            return state\n    }\n}\n\nexport const setStatusAC = (status: boolean): setStatusACType => ({type: 'APP/SET-STATUS', status})\nexport const setErrorAC = (error: string | null): setErrorACType => ({type: 'APP/SET-ERROR', error})\nexport const setRegisterStatus = (isRegister: boolean): setRegisterStatusACType => ({\n    type: 'APP/SET-REGISTER-STATUS',\n    isRegister\n} as const)\n\nexport const CreateUserThunk = (email: string, password: string) => {\n    return (dispatch: Dispatch) => {\n        dispatch(setStatusAC(true))\n        AuthAPI.createUser(email, password)\n            .then((res) => {\n                dispatch(setStatusAC(false))\n                dispatch(setRegisterStatus(true))\n            })\n            .catch((error) => {\n                if (!error.error) {\n                    dispatch(setErrorAC('Some Error! More details in console.'))\n                } else {\n                    dispatch(setErrorAC(error.error))\n                }\n                dispatch(setStatusAC(false))\n            })\n    }\n}"]},"metadata":{},"sourceType":"module"}